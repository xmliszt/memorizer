(function(e){function t(t){for(var n,o,i=t[0],c=t[1],l=t[2],d=0,p=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&p.push(a[o][0]),a[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);u&&u(t);while(p.length)p.shift()();return s.push.apply(s,l||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],n=!0,i=1;i<r.length;i++){var c=r[i];0!==a[c]&&(n=!1)}n&&(s.splice(t--,1),e=o(o.s=r[0]))}return e}var n={},a={app:0},s=[];function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/memorizer/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=c;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";var n=r("85ec"),a=r.n(n);a.a},"0baa":function(e,t,r){"use strict";var n=r("29a9"),a=r.n(n);a.a},1797:function(e,t,r){"use strict";var n=r("7f6e"),a=r.n(n);a.a},"240b":function(e,t,r){},"291c":function(e,t,r){},2998:function(e,t,r){},"29a9":function(e,t,r){},"2fa8":function(e,t,r){"use strict";var n=r("718d"),a=r.n(n);a.a},3171:function(e,t,r){"use strict";var n=r("7cd7"),a=r.n(n);a.a},3343:function(e,t,r){"use strict";var n=r("6c0f"),a=r.n(n);a.a},3912:function(e,t,r){"use strict";var n=r("5e87"),a=r.n(n);a.a},4678:function(e,t,r){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function a(e){var t=s(e);return r(t)}function s(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=s,e.exports=a,a.id="4678"},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("Header"),r("router-view"),r("Footer")],1)},s=[],o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"header-section"},[r("div",{directives:[{name:"show",rawName:"v-show",value:e.signOutVisible,expression:"signOutVisible"}],staticClass:"signout-holder"},[r("div",{staticClass:"username"},[e._v(e._s(e.username))]),r("el-tooltip",{attrs:{effect:"dark",content:"Signout",placement:"left"}},[r("el-button",{attrs:{type:"danger",icon:"el-icon-error",circle:""},on:{click:e.signout}})],1)],1),r("div",{directives:[{name:"show",rawName:"v-show",value:e.goHomeVisible,expression:"goHomeVisible"}],staticClass:"home-holder"},[r("el-tooltip",{attrs:{effect:"dark",content:"Add more memory...",placement:"right"}},[r("el-button",{attrs:{type:"warning",icon:"el-icon-s-opportunity",circle:""},on:{click:e.goHome}})],1)],1),r("el-dialog",{attrs:{title:"Sign in with Google",visible:e.signInVisible,width:"60vw"},on:{"update:visible":function(t){e.signInVisible=t}}},[r("span",[e._v("You need to login to access your memory!")]),r("br"),r("span",[e._v("You will be directed to Google Account login page.")]),r("span",{attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.signInVisible=!1}}},[e._v("Cancel")]),r("el-button",{attrs:{type:"info"},on:{click:e.signInWithGoogle}},[e._v("Proceed")])],1)]),r("el-tooltip",{attrs:{effect:"dark",content:e.accessMemoryTooltip,placement:"bottom"}},[r("div",{staticClass:"header-block",on:{click:e.accessMemory}},[r("div",{staticClass:"Heading"},[e._v("MEMORIZER")]),r("div",{staticClass:"Subtitle"},[e._v("Help with your memory")])])])],1)},i=[],c=(r("99af"),r("b0c0"),r("8c4f")),l=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"home"},[r("InputContent")],1)},u=[],d=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"input-content"},[r("div",{staticClass:"input-content-holder"},[r("div",{staticClass:"option-holder"},[r("el-select",{model:{value:e.option,callback:function(t){e.option=t},expression:"option"}},e._l(e.options,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)]),r("router-view")],1)},p=[],m={data:function(){return{options:[{value:"q_a",label:"Q&A"},{value:"link",label:"Link"}],option:""}},watch:{option:function(){"link"==this.option&&et.push("/link"),"q_a"==this.option&&et.push("/qa")}}},f=m,g=(r("3171"),r("2877")),b=Object(g["a"])(f,d,p,!1,null,null,null),h=b.exports,v={components:{InputContent:h}},y=v,w=(r("2fa8"),Object(g["a"])(y,l,u,!1,null,"59cc41a6",null)),_=w.exports,k=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"signup-page",on:{keypress:e.onEnter}},[r("el-form",{ref:"signup_form",attrs:{model:e.signup_form,"status-icon":"",rules:e.rules,"label-width":"130px"}},[r("el-form-item",{attrs:{label:"Email",prop:"email"}},[r("el-input",{attrs:{"prefix-icon":"el-icon-message",placeholder:"Input email address..",clearable:""},model:{value:e.signup_form.email,callback:function(t){e.$set(e.signup_form,"email",t)},expression:"signup_form.email"}})],1),r("el-form-item",{attrs:{label:"Password",prop:"pwd"}},[r("el-input",{attrs:{type:"password",autocomplete:"off",placeholder:"Input your password...","show-password":"",clearable:""},model:{value:e.signup_form.pwd,callback:function(t){e.$set(e.signup_form,"pwd",t)},expression:"signup_form.pwd"}})],1),r("el-form-item",{attrs:{label:"Repeat Password",prop:"rpwd"}},[r("el-input",{attrs:{type:"password",autocomplete:"off",placeholder:"Repeat your password...","show-password":"",clearable:""},model:{value:e.signup_form.rpwd,callback:function(t){e.$set(e.signup_form,"rpwd",t)},expression:"signup_form.rpwd"}})],1),r("div",{staticClass:"google-signin-notice"},[r("el-link",{attrs:{type:"primary",href:"/login"}},[e._v("Login using your Google account")])],1),r("div",{staticClass:"btn-holder"},[r("el-button",{attrs:{type:"info"},on:{click:e.submit}},[e._v("Signup")])],1)],1)],1)},j=[];function x(e,t,r){t.length<6?r(new Error("Password needs to be at least 6 characters")):r()}var C={data:function(){var e=this,t=function(t,r,n){r!=e.signup_form.pwd?n("Passwords do not match!"):n()};return{signup_form:{email:"",pwd:"",rpwd:""},rules:{email:[{required:!0,message:"Please input your email address!",trigger:"blur"},{type:"email",message:"Invalid email format!",trigger:"change"}],pwd:[{required:!0,message:"Please input password!",trigger:"blur"},{validator:x,trigger:["blur","change"]}],rpwd:[{required:!0,message:"Please repeat your password!",trigger:"blur"},{validator:t,trigger:["blur","change"]}]}}},methods:{onEnter:function(e){13===e.charCode&&this.submit()},submit:function(){var e=this;this.$refs.signup_form.validate((function(t){if(!t)return console.log("error submit!!"),!1;e.$message.info("submit!")}))}}},S=C,$=(r("3343"),Object(g["a"])(S,k,j,!1,null,"152d9124",null)),O=$.exports,R=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"link-input"},[r("el-form",{ref:"link_form",staticStyle:{width:"100%"},attrs:{model:e.link_form,rules:e.link_rules,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"Category",prop:"category"}},[r("CategorySelector",{ref:"categorySelector"})],1),r("el-form-item",{attrs:{label:"Title",prop:"link_title"}},[r("el-input",{attrs:{placeholder:"Input title...",clearable:"",maxlength:100,"show-word-limit":""},model:{value:e.link_form.link_title,callback:function(t){e.$set(e.link_form,"link_title",t)},expression:"link_form.link_title"}})],1),r("el-form-item",{attrs:{label:"Link",prop:"link_input"}},[r("el-input",{attrs:{placeholder:"Input a valid URL...",type:"url",clearable:""},model:{value:e.link_form.link_input,callback:function(t){e.$set(e.link_form,"link_input",t)},expression:"link_form.link_input"}})],1),r("el-form-item",[r("div",{staticStyle:{"text-align":"left"}},[r("el-button",{attrs:{type:"info",plain:""},on:{click:e.submit}},[e._v("Submit")])],1)])],1),r("div",[r("div",{staticClass:"display-holder"},[r("div",{staticClass:"display-title"},[e._v("Title:")]),r("div",{staticClass:"display-content"},[e._v(e._s(e.link_form.link_title))])]),r("div",{staticClass:"display-holder"},[r("div",{staticClass:"display-title"},[e._v("Link:")]),r("div",{staticClass:"display-content"},[r("el-link",{staticClass:"display-link",attrs:{href:e.link_form.link_input,target:"_blank"}},[e._v(e._s(e.link_form.link_input))])],1)])])],1)},q=[],z=(r("96cf"),r("1da1")),I=r("c23d"),M=r.n(I),Y=(r("e89a"),r("2ce1"),{apiKey:"AIzaSyDQuFnK8Mc1_u7gVagPaHgKc1LuVvdJUfE",authDomain:"memorizer-b515e.firebaseapp.com",databaseURL:"https://memorizer-b515e.firebaseio.com",projectId:"memorizer-b515e",storageBucket:"memorizer-b515e.appspot.com",messagingSenderId:"357707853636",appId:"1:357707853636:web:7818a5d21b6a7facbf3111"}),E=I["firebase"].initializeApp(Y);E.auth().onAuthStateChanged((function(e){e&&sessionStorage.setItem("user",e.uid)}));var P=E.firestore(),D=new I["firebase"].auth.GoogleAuthProvider,A=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"category-selector"},[r("el-tooltip",{attrs:{effect:"dark",content:"Enter a new category or select an existing one",placement:"left"}},[r("el-select",{attrs:{filterable:"","allow-create":"","default-first-option":"",placeholder:"Category"},on:{change:e.onCategoryChanged},model:{value:e.category,callback:function(t){e.category=t},expression:"category"}},e._l(e.options,(function(e){return r("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)],1)},N=[],T=(r("caad"),r("2532"),r("4de4"),r("c740"),r("d81d"),r("9911"),r("c1df")),H=r.n(T);function F(e){return H()(e).format("dddd, MMM Do YYYY, HH:mm:ss")}function V(e,t,r){return H()(e).add(r,t).toDate()}function L(e,t){switch(t){case 8:return V(e,"m",30);case 7:return V(e,"h",12);case 6:return V(e,"d",1);case 5:return V(e,"d",2);case 4:return V(e,"d",4);case 3:return V(e,"d",7);case 2:return V(e,"d",15);case 1:return V(e,"M",1)}}function G(e,t){return U.apply(this,arguments)}function U(){return U=Object(z["a"])(regeneratorRuntime.mark((function e(t,r){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.collection("users").doc(r).collection("m").doc(t).get();case 3:return n=e.sent,a=n.data(),e.abrupt("return",{success:!0,code:"",data:a});case 8:return e.prev=8,e.t0=e["catch"](0),e.abrupt("return",{success:!1,code:e.t0.code,data:e.t0.message});case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),U.apply(this,arguments)}function Q(e,t){return W.apply(this,arguments)}function W(){return W=Object(z["a"])(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=sessionStorage.getItem("user"),n){e.next=5;break}return e.abrupt("return",{success:!1,code:"Not logged in",message:"You are not logged in!"});case 5:return r<8&&(r+=1),e.prev=6,e.next=9,P.collection("users").doc(n).collection("m").doc(t).update({revised:r,created_on:(new Date).toISOString()});case 9:return e.abrupt("return",{success:!0,code:"",message:""});case 12:return e.prev=12,e.t0=e["catch"](6),e.abrupt("return",{success:!1,code:e.t0.code,message:e.t0.message});case 15:case"end":return e.stop()}}),e,null,[[6,12]])}))),W.apply(this,arguments)}function B(e,t){return J.apply(this,arguments)}function J(){return J=Object(z["a"])(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=sessionStorage.getItem("user"),n){e.next=5;break}return e.abrupt("return",{success:!1,code:"Not logged in",message:"You are not logged in!"});case 5:return r>0&&(r-=1),e.prev=6,e.next=9,P.collection("users").doc(n).collection("m").doc(t).update({revised:r,created_on:(new Date).toISOString()});case 9:return e.abrupt("return",{success:!0,code:"",message:""});case 12:return e.prev=12,e.t0=e["catch"](6),e.abrupt("return",{success:!1,code:e.t0.code,message:e.t0.message});case 15:case"end":return e.stop()}}),e,null,[[6,12]])}))),J.apply(this,arguments)}function K(e,t){return Z.apply(this,arguments)}function Z(){return Z=Object(z["a"])(regeneratorRuntime.mark((function e(t,r){var n,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=P.collection("users").doc(t),e.prev=1,e.next=4,n.update({category:I["firebase"].firestore.FieldValue.arrayUnion(r)});case 4:return e.abrupt("return",{success:!0,code:"",data:""});case 7:return e.prev=7,e.t0=e["catch"](1),a=e.t0.code,s=e.t0.message,e.abrupt("return",{success:!1,code:a,data:s});case 12:case"end":return e.stop()}}),e,null,[[1,7]])}))),Z.apply(this,arguments)}function X(e){return ee.apply(this,arguments)}function ee(){return ee=Object(z["a"])(regeneratorRuntime.mark((function e(t){var r,n,a,s,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=P.collection("users").doc(t),e.next=3,r.get();case 3:if(n=e.sent,!n.exists){e.next=15;break}return e.prev=5,a=n.data(),e.abrupt("return",{success:!0,code:"",data:a.category});case 10:return e.prev=10,e.t0=e["catch"](5),s=e.t0.code,o=e.t0.message,e.abrupt("return",{success:!1,code:s,data:o});case 15:case"end":return e.stop()}}),e,null,[[5,10]])}))),ee.apply(this,arguments)}function te(e){return re.apply(this,arguments)}function re(){return re=Object(z["a"])(regeneratorRuntime.mark((function e(t){var r,n,a,s,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=P.collection("users").doc(t),e.next=3,r.get();case 3:if(n=e.sent,!n.exists){e.next=24;break}return e.prev=5,e.next=8,r.collection("m").get();case 8:if(n=e.sent,0!=n.docs.length){e.next=13;break}return e.abrupt("return",{success:!1,code:"empty",data:null});case 13:return a=n.docs.map((function(e,t){var r=e.id,n=e.data().created_on,a=e.data().revised,s=L(n,a),o=!1;a>0&&H()(s.toISOString()).isBefore(H()(new Date))&&(o=!0);var i=e.data().category;return void 0!=i&&0!=i.length||(i="uncategorized"),{id:r,index:t,created_on:F(n),type:e.data().type,revised:e.data().revised,q:e.data().q,a:e.data().a,link:e.data().link,title:e.data().title,next_date:F(s),need_revise:o,category:i}})),e.abrupt("return",{success:!0,code:"",data:a});case 15:e.next=22;break;case 17:return e.prev=17,e.t0=e["catch"](5),s=e.t0.code,o=e.t0.message,e.abrupt("return",{success:!1,code:s,data:o});case 22:e.next=34;break;case 24:return e.prev=24,r.set({email:user.email,verified:user.emailVerified,username:user.displayName,category:["uncategorized"]}),e.abrupt("return",{success:!1,code:"empty",data:null});case 29:return e.prev=29,e.t1=e["catch"](24),s=e.t1.code,o=e.t1.message,e.abrupt("return",{success:!1,code:s,data:o});case 34:case"end":return e.stop()}}),e,null,[[5,17],[24,29]])}))),re.apply(this,arguments)}function ne(e,t){return ae.apply(this,arguments)}function ae(){return ae=Object(z["a"])(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.collection("users").doc(r).collection("m").doc(t).delete();case 3:return e.abrupt("return",{success:!0,code:"",data:null});case 6:return e.prev=6,e.t0=e["catch"](0),e.abrupt("return",{success:!1,code:e.t0.code,data:e.t0.message});case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),ae.apply(this,arguments)}function se(e,t){return oe.apply(this,arguments)}function oe(){return oe=Object(z["a"])(regeneratorRuntime.mark((function e(t,r){var n,a,s,o,i,c,l,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n="dddd, MMM Do YYYY, HH:mm:ss",e.next=3,te(sessionStorage.getItem("user"));case 3:if(a=e.sent,!a.success){e.next=19;break}if(s=a.data,o=ie(s),i=o.filter((function(e){var t=H()(e.next_date,n),a=e.revised,s=H()((new Date).toISOString());return t.isBefore(s)&&a>0&&(["All","ongoing"].includes(r)||e.category===r)})),c=i.findIndex((function(e){return e.id==t})),!(c>=0)){e.next=16;break}return l=c+1,u="",u=l==i.length?i[0].revised>0&&i[0].id!==t?i[0].id:"end":i[c+1].id,e.abrupt("return",{success:!0,code:"",data:u});case 16:return e.abrupt("return",{success:!0,code:"",data:"end"});case 17:e.next=20;break;case 19:return e.abrupt("return",a);case 20:case"end":return e.stop()}}),e)}))),oe.apply(this,arguments)}function ie(e){var t="dddd, MMM Do YYYY, HH:mm:ss";return e.sort((function(e,r){if(e.category===r.category){var n=H()(e.next_date,t),a=H()(r.next_date,t);return n.isAfter(a)}return e.category.localeCompare(r.category)})),e}function ce(e,t,r,n){return le.apply(this,arguments)}function le(){return le=Object(z["a"])(regeneratorRuntime.mark((function e(t,r,n,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,P.collection("users").doc(t).collection("m").add({category:a,type:"link",q:"",a:"",title:r,link:n,created_on:(new Date).toISOString(),revised:8}),e.abrupt("return",{success:!0,code:"",data:""});case 5:return e.prev=5,e.t0=e["catch"](0),e.abrupt("return",{success:!1,code:e.t0.code,message:e.t0.message});case 8:case"end":return e.stop()}}),e,null,[[0,5]])}))),le.apply(this,arguments)}function ue(e,t,r,n){return de.apply(this,arguments)}function de(){return de=Object(z["a"])(regeneratorRuntime.mark((function e(t,r,n,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,P.collection("users").doc(t).collection("m").add({category:a,type:"q_a",q:r,a:n,title:"",link:"",created_on:(new Date).toISOString(),revised:8}),e.abrupt("return",{success:!0,code:"",message:""});case 5:return e.prev=5,e.t0=e["catch"](0),e.abrupt("return",{success:!1,code:e.t0.code,message:e.t0.message});case 8:case"end":return e.stop()}}),e,null,[[0,5]])}))),de.apply(this,arguments)}var pe={data:function(){return{category:"uncategorized",options:["uncategorized"]}},methods:{onCategoryChanged:function(e){this.options.includes(e)||this.options.push(e)}},mounted:function(){var e=this;return Object(z["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=sessionStorage.getItem("user"),!r){t.next=8;break}return t.next=4,X(r);case 4:n=t.sent,n.success?e.options=n.data:e.$message.error("".concat(n.code,": ").concat(n.error)),t.next=9;break;case 8:e.$message.warning("You are not logged in!");case 9:case"end":return t.stop()}}),t)})))()}},me=pe,fe=(r("ba0f"),Object(g["a"])(me,A,N,!1,null,"e22b9fc0",null)),ge=fe.exports,be={components:{CategorySelector:ge},data:function(){return{link_form:{link_input:"",link_title:""},link_rules:{link_title:[{required:!0,message:"Title cannot be empty",trigger:"blur"}],link_input:[{required:!0,message:"Link cannot be empty",trigger:"blur"},{type:"url",message:"Invalid link",trigger:"blur"}]}}},methods:{submit:function(){var e=this,t=sessionStorage.getItem("user");t?this.$refs.link_form.validate(function(){var r=Object(z["a"])(regeneratorRuntime.mark((function r(n){var a,s,o,i,c,l;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!n){r.next=12;break}return r.next=3,K(t,i);case 3:return a=r.sent,a.success||e.$message.error("".concat(a.code,": ").concat(a.data)),s=e.link_form.link_title,o=e.link_form.link_input,i=e.$refs.categorySelector.category,r.next=10,ce(t,s,o,i);case 10:a=r.sent,a.success?(e.$message.success("Your memory has been successfully recorded!"),e.$refs.link_form.resetFields()):(c=err.code,l=err.message,e.$message.error(c+": "+l));case 12:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()):this.$message.warning("You are not logged in!")}}},he=be,ve=(r("0baa"),Object(g["a"])(he,R,q,!1,null,"667fd626",null)),ye=ve.exports,we=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-form",{ref:"qa_form",staticStyle:{width:"100%"},attrs:{model:e.qa_form,rules:e.qa_rules,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"Category",prop:"category"}},[r("CategorySelector",{ref:"categorySelector"})],1),r("el-form-item",{attrs:{label:"Question",prop:"q"}},[r("el-input",{staticClass:"input-element",attrs:{placeholder:"Input your question...",maxlength:100,"show-word-limit":"",clearable:""},model:{value:e.qa_form.q,callback:function(t){e.$set(e.qa_form,"q",t)},expression:"qa_form.q"}})],1),r("el-form-item",{attrs:{label:"Answer",prop:"a"}},[r("el-input",{staticClass:"input-element",attrs:{type:"textarea",rows:5,placeholder:"Input your answer...",clearable:""},model:{value:e.qa_form.a,callback:function(t){e.$set(e.qa_form,"a",t)},expression:"qa_form.a"}})],1),r("el-form-item",[r("div",{staticStyle:{"text-align":"left"}},[r("el-button",{attrs:{type:"info",plain:""},on:{click:e.submit}},[e._v("Submit")])],1)])],1),r("div",[r("div",{staticClass:"display-holder"},[r("div",{staticClass:"display-title"},[e._v("Question:")]),r("div",{staticClass:"display-content"},[e._v(e._s(e.qa_form.q))])]),r("div",{staticClass:"display-holder"},[r("div",{staticClass:"display-title"},[e._v("Answer:")]),r("div",{staticClass:"display-content"},[r("span",[e._v(e._s(e.qa_form.a))])])])])],1)},_e=[],ke={components:{CategorySelector:ge},data:function(){return{qa_form:{q:"",a:""},qa_rules:{q:[{required:!0,message:"Question cannot be empty",trigger:"blur"}],a:[{required:!0,message:"Answer cannot be empty",trigger:"blur"}]}}},methods:{submit:function(){var e=this,t=sessionStorage.getItem("user");t?this.$refs.qa_form.validate(function(){var r=Object(z["a"])(regeneratorRuntime.mark((function r(n){var a,s,o,i,c,l;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!n){r.next=12;break}return a=e.qa_form.q,s=e.qa_form.a,o=e.$refs.categorySelector.category,r.next=6,K(t,o);case 6:return i=r.sent,i.success||e.$message.error("".concat(i.code,": ").concat(i.data)),r.next=10,ue(t,a,s,o);case 10:i=r.sent,i.success?(e.$message.success("Your memory has been successfully recorded!"),e.$refs.qa_form.resetFields()):(c=err.code,l=err.message,e.$message.error(c+": "+l));case 12:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()):this.$message.warning("You are not logged in!")}}},je=ke,xe=(r("e846"),Object(g["a"])(je,we,_e,!1,null,"fec1ad2e",null)),Ce=xe.exports,Se=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login-page",on:{keypress:e.onEnter}},[r("el-form",{ref:"login_form",attrs:{model:e.login_form,"status-icon":"",rules:e.rules,"label-width":"130px"}},[r("el-form-item",{attrs:{label:"Email",prop:"email"}},[r("el-input",{attrs:{"prefix-icon":"el-icon-message",placeholder:"Input email address.. (Google account or other emails)",clearable:""},model:{value:e.login_form.email,callback:function(t){e.$set(e.login_form,"email",t)},expression:"login_form.email"}})],1),r("el-form-item",{attrs:{label:"Password",prop:"pwd"}},[r("el-input",{attrs:{type:"password",autocomplete:"off",placeholder:"Input your password...","show-password":"",clearable:""},model:{value:e.login_form.pwd,callback:function(t){e.$set(e.login_form,"pwd",t)},expression:"login_form.pwd"}})],1),r("div",{staticClass:"dont-have-account"},[r("el-link",{attrs:{href:"/signup",type:"primary"}},[e._v("Don't have an account? Create one!")])],1),r("div",{staticClass:"dont-have-account"},[r("el-link",{attrs:{type:"warning"},on:{click:e.signInWithGoogle}},[e._v("Sign in with Google account!")])],1),r("div",{staticClass:"btn-holder"},[r("el-button",{attrs:{type:"info"},on:{click:e.submit}},[e._v("Login")])],1)],1)],1)},$e=[],Oe={data:function(){return{login_form:{email:"",pwd:""},rules:{email:[{required:!0,message:"Please input your email address...",trigger:"blur"},{type:"email",message:"Invalid email format!",trigger:"change"}],pwd:[{required:!0,message:"Please input your password...",trigger:"blur"}]}}},methods:{onEnter:function(e){13===e.charCode&&this.submit()},submit:function(){var e=this;this.$refs.login_form.validate((function(t){if(!t)return console.log("error submit!!"),!1;E.auth().signInWithEmailAndPassword(e.login_form.email,e.login_form.pwd).catch((function(t){var r=t.code,n=t.message;e.$notify.error(r+": "+n)}))}))},signInWithGoogle:function(){var e=this;M.a.auth().signInWithPopup(D).then((function(t){var r=t.credential.accessToken,n=t.user;e.$message.info("User[".concat(n.email,"] signed in with token: ").concat(r)),console.log(n)})).catch((function(t){var r=t.code,n=t.message,a=t.email;e.$notify.error("Email [".concat(a,"] failed to login with error[").concat(r,"]: ").concat(n))}))}}},Re=Oe,qe=(r("c10b"),Object(g["a"])(Re,Se,$e,!1,null,"b7a3e190",null)),ze=qe.exports,Ie=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"memory"},[r("div",{directives:[{name:"show",rawName:"v-show",value:e.empty,expression:"empty"}],staticClass:"empty-warning"},[e._v(" You have no recorded memory. "),r("el-link",{attrs:{type:"warning"},on:{click:e.goHome}},[e._v("Go and add some first!")])],1),r("div",{directives:[{name:"show",rawName:"v-show",value:!e.empty,expression:"!empty"}],staticClass:"memory-table"},[r("div",{staticClass:"action-panel"},[r("el-input",{staticStyle:{width:"300px","margin-right":"15px"},attrs:{placeholder:"Search for a memory...",size:"mini",clearable:""},model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}}),r("el-tooltip",{attrs:{content:"Select category",effect:"dark",placement:"top"}},[r("el-select",{staticStyle:{width:"150px","margin-right":"15px"},attrs:{placeholder:"Category",size:"mini"},model:{value:e.categoryFilter,callback:function(t){e.categoryFilter=t},expression:"categoryFilter"}},e._l(e.categories,(function(e){return r("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),r("el-tooltip",{attrs:{content:"Select type of memory",effect:"dark",placement:"top"}},[r("el-select",{staticStyle:{"margin-right":"15px"},attrs:{placeholder:"Type",size:"mini"},model:{value:e.typeFilter,callback:function(t){e.typeFilter=t},expression:"typeFilter"}},e._l(e.types,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),r("el-switch",{staticStyle:{display:"block"},attrs:{"active-color":"#13ce66","active-text":"Fading Memories"},model:{value:e.showOnlyNeedRevision,callback:function(t){e.showOnlyNeedRevision=t},expression:"showOnlyNeedRevision"}})],1),r("el-table",{ref:"memoryTable",staticStyle:{width:"100%","font-size":"12px"},attrs:{data:e.displayMemoryData,height:"55vh","max-height":"55vh",size:"mini"}},[r("el-table-column",{attrs:{label:"S/N",width:"80",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-tooltip",{attrs:{effect:"dark",placement:"right",content:t.row.id}},[r("span",[e._v(e._s(t.row.index))])])]}}])}),r("el-table-column",{attrs:{prop:"created_on",label:"Previous Revision",width:"220",sortable:"","sort-method":e.sortPrevDate}}),r("el-table-column",{attrs:{prop:"type",label:"Type",width:"100",sortable:""}}),r("el-table-column",{attrs:{prop:"category",label:"Category",width:"150",sortable:""}}),r("el-table-column",{attrs:{label:"Question / Title","max-width":"500px","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return["q_a"===t.row.type?r("textarea",{staticClass:"long-answer",attrs:{disabled:""},domProps:{value:t.row.q}}):e._e(),e._v(" "),"link"===t.row.type?r("textarea",{staticClass:"long-answer",attrs:{disabled:""},domProps:{value:t.row.title}}):e._e()]}}])}),r("el-table-column",{attrs:{label:"Answer / Link","max-width":"500px","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return["q_a"===t.row.type?r("textarea",{staticClass:"brief-answer",attrs:{disabled:""},domProps:{value:t.row.a}}):e._e(),e._v(" "),"link"===t.row.type?r("div",[r("a",{attrs:{href:t.row.link,type:"info",target:"_blank"}},[e._v("Click to open link")])]):e._e()]}}])}),r("el-table-column",{attrs:{label:"Next Revision",width:"240",sortable:"","sort-method":e.sortNextDate},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.need_revise?r("span",[r("strong",[e._v(e._s(t.row.next_date))])]):r("span",[e._v(e._s(t.row.next_date))])]}}])}),r("el-table-column",{attrs:{prop:"revised",label:"R",width:"80",sortable:""}}),r("el-table-column",{attrs:{label:"Revise","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-tooltip",{attrs:{effect:"dark",content:"Time to revise",placement:"left"}},[t.row.need_revise?r("el-button",{attrs:{icon:"el-icon-warning",type:"warning",size:"mini",plain:""},on:{click:function(r){return e.revise(t.row.id)}}}):e._e()],1),r("el-tooltip",{attrs:{effect:"dark",content:t.row.revised>0?"Wait for next round of revision":"All done!",placement:"left"}},[t.row.need_revise?e._e():r("el-button",{attrs:{icon:"el-icon-success",type:"success",plain:"",size:"mini"},on:{click:function(r){return e.revise(t.row.id)}}})],1)]}}])}),r("el-table-column",{attrs:{label:"Delete"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-tooltip",{attrs:{effect:"dark",content:"Delete entry",placement:"left"}},[r("el-button",{attrs:{icon:"el-icon-remove",type:"danger",size:"mini"},on:{click:function(r){return e.remove(t.row.id)}}})],1)]}}])})],1)],1)])},Me=[];r("4160"),r("b64b"),r("159b");function Ye(e,t){var r=!1,n=Object.keys(t);try{n.forEach((function(n){var a=t[n];if("string"!=typeof a&&(a=String(a)),a.toLowerCase().includes(e.toLowerCase()))throw r=!0,""}))}catch(a){}return!e||r}var Ee={data:function(){return{empty:!1,memoryData:[],loading:!1,showOnlyNeedRevision:!1,typeFilter:"all",categoryFilter:"ongoing",categories:[],searchText:"",types:[{value:"q_a",label:"Q&A"},{value:"link",label:"Link"},{value:"all",label:"All"}]}},methods:{goHome:function(){et.push({name:"Home"})},revise:function(e){var t=this;return Object(z["a"])(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,se(e,t.categoryFilter);case 2:n=r.sent,a="",n.success?(a=n.data,et.push({path:"/revision/".concat(e),query:{next:a,category:t.categoryFilter}})):t.$message.error("".concat(n.code,": ").concat(n.data));case 5:case"end":return r.stop()}}),r)})))()},remove:function(e){var t=this;return Object(z["a"])(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=sessionStorage.getItem("user"),r.next=3,ne(e,n);case 3:a=r.sent,a.success?(t.$message.success("Memory has been deleted successfully!"),t.refreshMemory()):t.$message.error("".concat(a.code,": ").concat(a.data));case 5:case"end":return r.stop()}}),r)})))()},refreshMemory:function(){var e=this;return Object(z["a"])(regeneratorRuntime.mark((function t(){var r,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.loading=!0,r=sessionStorage.getItem("user"),r){t.next=8;break}e.loading=!1,e.$notify.warning("You are not logged in!"),et.push({name:"Home"}),t.next=17;break;case 8:return t.next=10,te(r);case 10:return n=t.sent,t.next=13,X(r);case 13:a=t.sent,e.loading=!1,a.success?e.categories=["All","completed","ongoing"].concat(a.data):e.$message.error("".concat(category_result.code,": ").concat(a.data)),n.success?(e.memoryData=n.data,e.empty=!1):"empty"==n.code?(e.empty=!0,e.memoryData=[]):e.$message.error("".concat(n.code,": ").concat(n.data));case 17:e.$refs.memoryTable.sort("created_on","ascending");case 18:case"end":return t.stop()}}),t)})))()},sortPrevDate:function(e,t){var r="dddd, MMM Do YYYY, HH:mm:ss";return H()(e.created_on,r).isBefore(H()(t.created_on,r))?-1:1},sortNextDate:function(e,t){var r="dddd, MMM Do YYYY, HH:mm:ss";return H()(e.next_date,r).isBefore(H()(t.next_date,r))?-1:1}},mounted:function(){var e=this;setTimeout((function(){e.refreshMemory()}),1500)},computed:{displayMemoryData:function(){var e=this;this.loading=!0;var t=this.memoryData;return this.showOnlyNeedRevision&&(t=t.filter((function(e){return e.need_revise}))),t=t.filter((function(t){return"all"==e.typeFilter||t.type===e.typeFilter})),t=t.filter((function(t){return"All"===e.categoryFilter||("completed"===e.categoryFilter?0===t.revised:"ongoing"===e.categoryFilter?t.revised>0:e.categoryFilter===t.category)})),t=t.filter((function(t){return Ye(e.searchText,t)})),this.loading=!1,t}}},Pe=Ee,De=(r("8dd1"),Object(g["a"])(Pe,Ie,Me,!1,null,"5ee3ef44",null)),Ae=De.exports,Ne=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"revision"},[r("div",{staticClass:"card-holder"},["q_a"===e.data.type?r("el-card",[r("div",{staticClass:"title-section",on:{click:function(t){e.answerVisible=!e.answerVisible}}},[r("div",[r("el-tooltip",{attrs:{content:e.answerVisible?"Click to hide the answer":"Click to show the answer"}},[r("div",{staticStyle:{"margin-right":"10px"}},[e._v(e._s(e.data.q))])])],1),r("div",{staticClass:"info-section"},[r("el-tag",{staticStyle:{"margin-right":"20px"},attrs:{type:"info",size:"small",hit:""}},[e._v(e._s(e.category))]),r("el-tooltip",{attrs:{content:"Number of revisions left"}},[r("div",{staticStyle:{color:"#E6A23C"}},[e._v(e._s(e.data.revised))])])],1)])]):e._e(),r("el-card",{directives:[{name:"show",rawName:"v-show",value:e.answerVisible,expression:"answerVisible"}]},[r("div",{staticClass:"answer-section"},[e._v(e._s(e.data.a))]),r("div",{staticClass:"action-section"},[r("el-button",{attrs:{type:"warning",plain:""},on:{click:e.reviseAgain}},[e._v("Revise Again")]),r("el-button",{attrs:{type:"success",plain:""},on:{click:e.remember}},[e._v("I Remember!")])],1)]),"link"===e.data.type?r("el-card",[r("div",{staticClass:"title-section",attrs:{slot:"header"},slot:"header"},[r("span",[e._v(e._s(e.data.title))]),r("div",{staticClass:"info-section"},[r("el-tag",{staticStyle:{"margin-right":"20px"},attrs:{type:"info",size:"small",hit:""}},[e._v(e._s(e.category))]),r("el-tooltip",{attrs:{content:"Number of revisions left"}},[r("span",{staticStyle:{color:"#E6A23C"}},[e._v(e._s(e.data.revised))])])],1)]),r("div",[r("div",[r("el-link",{attrs:{href:e.data.link,target:"__blank"}},[e._v(e._s(e.data.link))])],1),r("iframe",{staticStyle:{"margin-top":"10px"},attrs:{title:"Link Source",width:"100%",height:"",src:e.embeddedLink,allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}}),r("div",{staticClass:"action-section"},[r("el-button",{attrs:{type:"warning",plain:""},on:{click:e.reviseAgain}},[e._v("Revise Again")]),r("el-button",{attrs:{type:"success",plain:""},on:{click:e.remember}},[e._v("I Remember!")])],1)])]):e._e()],1)])},Te=[],He=(r("d3b7"),r("ac1f"),r("3ca3"),r("841c"),r("1276"),r("ddb0"),r("2b3d"),{data:function(){return{data:{},answerVisible:!1,loading:!1,category:""}},computed:{embeddedLink:function(){if(!this.data.link)return this.data.link;try{var e=new URL(this.data.link),t="";return"www.youtube.com"===e.host?(t=new URLSearchParams(e.search).get("v"),"https://www.youtube.com/embed/"+t):"youtu.be"===e.host?(t=e.pathname.split("/")[1],"https://www.youtube.com/embed/"+t):e}catch(err){}}},methods:{goToNextMemory:function(){var e=this;return Object(z["a"])(regeneratorRuntime.mark((function t(){var r,n,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=e.$route.query.next,n=e.$route.query.category,"end"!=r){t.next=6;break}et.push("/done"),t.next=10;break;case 6:return t.next=8,se(r,n);case 8:a=t.sent,a.success?(s=a.data,et.push({path:"/revision/".concat(r),query:{next:s,category:n}}),e.getMemory(),e.answerVisible=!1):e.$message.error("".concat(a.code,": ").concat(a.data));case 10:case"end":return t.stop()}}),t)})))()},reviseAgain:function(){var e=this;return Object(z["a"])(regeneratorRuntime.mark((function t(){var r,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Q(e.$route.params.id,e.data.revised);case 2:r=t.sent,r.success?(e.$message.warning("Memory has slightly faded~"),e.goToNextMemory()):"Not logged in"==r.code?(e.$notify.warning(r.message),et.push("/")):(n=r.code,a=r.message,e.$message.error(n+": "+a));case 4:case"end":return t.stop()}}),t)})))()},remember:function(){var e=this;return Object(z["a"])(regeneratorRuntime.mark((function t(){var r,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,B(e.$route.params.id,e.data.revised);case 2:r=t.sent,r.success?(e.$message.success("Memory has been improved!"),e.goToNextMemory()):"Not logged in"==r.code?(e.$notify.warning(r.message),et.push("/")):(n=r.code,a=r.message,e.$message.error(n+": "+a));case 4:case"end":return t.stop()}}),t)})))()},getMemory:function(){var e=this;return Object(z["a"])(regeneratorRuntime.mark((function t(){var r,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.loading=!0,r=sessionStorage.getItem("user"),r){t.next=8;break}e.loading=!1,e.$notify.warning("You are not logged in!"),et.push("/"),t.next=14;break;case 8:return n=e.$route.params.id,t.next=11,G(n,r);case 11:a=t.sent,e.loading=!1,a.success?(e.data=a.data,a.data.category?e.category=a.data.category:e.category="uncategorized"):e.$message.error("".concat(a.code,": ").concat(a.data));case 14:case"end":return t.stop()}}),t)})))()}},mounted:function(){var e=this;setTimeout((function(){e.getMemory()}),1500)}}),Fe=He,Ve=(r("d709"),Object(g["a"])(Fe,Ne,Te,!1,null,"cc82d75c",null)),Le=Ve.exports,Ge=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"donezo"},[e._v(" Congratulations! You have finished all the pending revisions! ")])},Ue=[],Qe={},We=Qe,Be=(r("3912"),Object(g["a"])(We,Ge,Ue,!1,null,"ba0d7b80",null)),Je=Be.exports,Ke=c["a"].prototype.push;c["a"].prototype.push=function(e){return Ke.call(this,e).catch((function(e){return e}))},n["default"].use(c["a"]);var Ze=[{path:"/",name:"Home",component:_,children:[{path:"link",name:"Link",component:ye},{path:"qa",name:"QA",component:Ce}]},{path:"/signup",name:"Signup",component:O},{path:"/login",name:"Login",component:ze},{path:"/memory",name:"Memory",component:Ae},{path:"/revision/:id",name:"Revision",component:Le},{path:"/done",name:"Donezo",component:Je}],Xe=new c["a"]({base:"/memorizer/",routes:Ze}),et=Xe,tt={data:function(){return{username:"",signInVisible:!1,signOutVisible:!1,accessMemoryTooltip:""}},methods:{signInWithGoogle:function(){var e=this;this.signInVisible=!1,E.auth().signInWithPopup(D).then((function(e){var t=e.user,r=t.uid;et.push("/memory/"+r)})).catch((function(t){var r=t.code,n=t.message,a=t.email;e.$notify.error("Email [".concat(a,"] failed to login with error[").concat(r,"]: ").concat(n))}))},accessMemory:function(){var e=sessionStorage.getItem("user");e?et.push("/memory"):this.signInVisible=!0},signout:function(){var e=this;E.auth().signOut().then((function(){sessionStorage.removeItem("user"),e.$message.success("Sign out successfully!"),et.push({name:"Home"})})).catch((function(t){console.error(t),e.$message.error("Failed to signout! Try again later!")}))},goHome:function(){et.push({name:"Home"})}},created:function(){var e=this;E.auth().onAuthStateChanged((function(t){t?(e.signOutVisible=!0,e.accessMemoryTooltip="Access your memory...",e.username=t.displayName):(e.username="",e.accessMemoryTooltip="Login to access your memory...",e.signOutVisible=!1)}))},computed:{goHomeVisible:function(){return"Memory"===this.$route.name}}},rt=tt,nt=(r("aee5"),Object(g["a"])(rt,o,i,!1,null,"6e754660",null)),at=nt.exports,st=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"footer"},[r("div",[e._v("Memorizer works the best with Chrome on PC")]),r("div",[r("el-link",{staticStyle:{color:"#fff"},attrs:{href:"https://xmliszt.github.io/",target:"__blank"}},[e._v("Li Yuxuan")]),r("span",[e._v(" © 2020")])],1),r("div",[r("el-link",{staticStyle:{color:"#fff"},attrs:{icon:"el-icon-question",href:"https://github.com/xmliszt/memorizer.git",target:"__blank"}},[r("span",[e._v("How to use Memorizer? ")]),r("font-awesome-icon",{attrs:{icon:["fab","github"]}})],1)],1)])},ot=[],it={},ct=it,lt=(r("1797"),Object(g["a"])(ct,st,ot,!1,null,"60910b76",null)),ut=lt.exports,dt={components:{Header:at,Footer:ut}},pt=dt,mt=(r("034f"),Object(g["a"])(pt,a,s,!1,null,null,null)),ft=mt.exports,gt=r("5c96"),bt=r.n(gt),ht=(r("0fae"),r("b2d6")),vt=r.n(ht),yt=r("73c3"),wt=r.n(yt),_t=r("ecee"),kt=r("f2d1"),jt=r("ad3d");_t["c"].add(kt["a"]),n["default"].component("font-awesome-icon",jt["a"]),n["default"].use(wt.a),n["default"].use(bt.a,{locale:vt.a}),n["default"].config.productionTip=!1,new n["default"]({router:et,render:function(e){return e(ft)}}).$mount("#app")},"5e87":function(e,t,r){},"6c0f":function(e,t,r){},"718d":function(e,t,r){},"7cd7":function(e,t,r){},"7f6e":function(e,t,r){},"85ec":function(e,t,r){},"8dd1":function(e,t,r){"use strict";var n=r("9905"),a=r.n(n);a.a},9905:function(e,t,r){},aee5:function(e,t,r){"use strict";var n=r("291c"),a=r.n(n);a.a},ba0f:function(e,t,r){"use strict";var n=r("ead5"),a=r.n(n);a.a},c10b:function(e,t,r){"use strict";var n=r("240b"),a=r.n(n);a.a},d709:function(e,t,r){"use strict";var n=r("e3bc"),a=r.n(n);a.a},e3bc:function(e,t,r){},e846:function(e,t,r){"use strict";var n=r("2998"),a=r.n(n);a.a},ead5:function(e,t,r){}});
//# sourceMappingURL=app.c4e23c23.js.map