(function(e){function t(t){for(var a,i,o=t[0],c=t[1],l=t[2],d=0,m=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&m.push(r[i][0]),r[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);u&&u(t);while(m.length)m.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],a=!0,o=1;o<n.length;o++){var c=n[o];0!==r[c]&&(a=!1)}a&&(s.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},r={app:0},s=[];function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/memorizer/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var a=n("85ec"),r=n.n(a);r.a},"06df":function(e,t,n){"use strict";var a=n("a1b0"),r=n.n(a);r.a},"11ca":function(e,t,n){},1797:function(e,t,n){"use strict";var a=n("7f6e"),r=n.n(a);r.a},"212d":function(e,t,n){"use strict";var a=n("487c"),r=n.n(a);r.a},"240b":function(e,t,n){},"2fa8":function(e,t,n){"use strict";var a=n("718d"),r=n.n(a);r.a},3171:function(e,t,n){"use strict";var a=n("7cd7"),r=n.n(a);r.a},3343:function(e,t,n){"use strict";var a=n("6c0f"),r=n.n(a);r.a},3912:function(e,t,n){"use strict";var a=n("5e87"),r=n.n(a);r.a},4678:function(e,t,n){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(e){var t=s(e);return n(t)}function s(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=s,e.exports=r,r.id="4678"},"487c":function(e,t,n){},"4d55":function(e,t,n){"use strict";var a=n("c2fd"),r=n.n(a);r.a},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("Header"),n("router-view"),n("Footer")],1)},s=[],i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"header-section"},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.signOutVisible,expression:"signOutVisible"}],staticClass:"signout-holder"},[n("div",{staticClass:"username"},[e._v(e._s(e.username))]),n("el-tooltip",{attrs:{effect:"dark",content:"Signout",placement:"left"}},[n("el-button",{attrs:{type:"danger",icon:"el-icon-error",circle:""},on:{click:e.signout}})],1)],1),n("div",{directives:[{name:"show",rawName:"v-show",value:e.goHomeVisible,expression:"goHomeVisible"}],staticClass:"home-holder"},[n("el-tooltip",{attrs:{effect:"dark",content:"Add more memory...",placement:"right"}},[n("el-button",{attrs:{type:"warning",icon:"el-icon-s-opportunity",circle:""},on:{click:e.goHome}})],1)],1),n("el-dialog",{attrs:{title:"Sign in with Google",visible:e.signInVisible,width:"60vw"},on:{"update:visible":function(t){e.signInVisible=t}}},[n("span",[e._v("You need to login to access your memory!")]),n("br"),n("span",[e._v("You will be directed to Google Account login page.")]),n("span",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.signInVisible=!1}}},[e._v("Cancel")]),n("el-button",{attrs:{type:"info"},on:{click:e.signInWithGoogle}},[e._v("Proceed")])],1)]),n("el-tooltip",{attrs:{effect:"dark",content:e.accessMemoryTooltip,placement:"bottom"}},[n("div",{staticClass:"header-block",on:{click:e.accessMemory}},[n("div",{staticClass:"Heading"},[e._v("MEMORIZER")]),n("div",{staticClass:"Subtitle"},[e._v("Help with your memory")])])])],1)},o=[],c=(n("99af"),n("b0c0"),n("8c4f")),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("InputContent")],1)},u=[],d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"input-content"},[n("div",{staticClass:"input-content-holder"},[n("div",{staticClass:"option-holder"},[n("el-select",{model:{value:e.option,callback:function(t){e.option=t},expression:"option"}},e._l(e.options,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)]),n("router-view")],1)},m=[],f={data:function(){return{options:[{value:"q_a",label:"Q&A"},{value:"link",label:"Link"}],option:""}},watch:{option:function(){"link"==this.option&&He.push("/link"),"q_a"==this.option&&He.push("/qa")}}},p=f,b=(n("3171"),n("2877")),g=Object(b["a"])(p,d,m,!1,null,null,null),v=g.exports,h={components:{InputContent:v}},y=h,w=(n("2fa8"),Object(b["a"])(y,l,u,!1,null,"59cc41a6",null)),_=w.exports,k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"signup-page",on:{keypress:e.onEnter}},[n("el-form",{ref:"signup_form",attrs:{model:e.signup_form,"status-icon":"",rules:e.rules,"label-width":"130px"}},[n("el-form-item",{attrs:{label:"Email",prop:"email"}},[n("el-input",{attrs:{"prefix-icon":"el-icon-message",placeholder:"Input email address..",clearable:""},model:{value:e.signup_form.email,callback:function(t){e.$set(e.signup_form,"email",t)},expression:"signup_form.email"}})],1),n("el-form-item",{attrs:{label:"Password",prop:"pwd"}},[n("el-input",{attrs:{type:"password",autocomplete:"off",placeholder:"Input your password...","show-password":"",clearable:""},model:{value:e.signup_form.pwd,callback:function(t){e.$set(e.signup_form,"pwd",t)},expression:"signup_form.pwd"}})],1),n("el-form-item",{attrs:{label:"Repeat Password",prop:"rpwd"}},[n("el-input",{attrs:{type:"password",autocomplete:"off",placeholder:"Repeat your password...","show-password":"",clearable:""},model:{value:e.signup_form.rpwd,callback:function(t){e.$set(e.signup_form,"rpwd",t)},expression:"signup_form.rpwd"}})],1),n("div",{staticClass:"google-signin-notice"},[n("el-link",{attrs:{type:"primary",href:"/login"}},[e._v("Login using your Google account")])],1),n("div",{staticClass:"btn-holder"},[n("el-button",{attrs:{type:"info"},on:{click:e.submit}},[e._v("Signup")])],1)],1)],1)},j=[];function x(e,t,n){t.length<6?n(new Error("Password needs to be at least 6 characters")):n()}var C={data:function(){var e=this,t=function(t,n,a){n!=e.signup_form.pwd?a("Passwords do not match!"):a()};return{signup_form:{email:"",pwd:"",rpwd:""},rules:{email:[{required:!0,message:"Please input your email address!",trigger:"blur"},{type:"email",message:"Invalid email format!",trigger:"change"}],pwd:[{required:!0,message:"Please input password!",trigger:"blur"},{validator:x,trigger:["blur","change"]}],rpwd:[{required:!0,message:"Please repeat your password!",trigger:"blur"},{validator:t,trigger:["blur","change"]}]}}},methods:{onEnter:function(e){13===e.charCode&&this.submit()},submit:function(){var e=this;this.$refs.signup_form.validate((function(t){if(!t)return console.log("error submit!!"),!1;e.$message.info("submit!")}))}}},$=C,O=(n("3343"),Object(b["a"])($,k,j,!1,null,"152d9124",null)),q=O.exports,S=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"link-input"},[n("el-form",{ref:"link_form",staticStyle:{width:"100%"},attrs:{model:e.link_form,rules:e.link_rules,"label-width":"120px"}},[n("el-form-item",{attrs:{label:"Title",prop:"link_title"}},[n("el-input",{attrs:{placeholder:"Input title...",clearable:"",maxlength:100,"show-word-limit":""},model:{value:e.link_form.link_title,callback:function(t){e.$set(e.link_form,"link_title",t)},expression:"link_form.link_title"}})],1),n("el-form-item",{attrs:{label:"Link",prop:"link_input"}},[n("el-input",{attrs:{placeholder:"Input a valid URL...",type:"url",clearable:""},model:{value:e.link_form.link_input,callback:function(t){e.$set(e.link_form,"link_input",t)},expression:"link_form.link_input"}})],1),n("el-form-item",[n("div",{staticStyle:{"text-align":"left"}},[n("el-button",{attrs:{type:"info",plain:""},on:{click:e.submit}},[e._v("Submit")])],1)])],1),n("div",[n("div",{staticClass:"display-holder"},[n("div",{staticClass:"display-title"},[e._v("Title:")]),n("div",{staticClass:"display-content"},[e._v(e._s(e.link_form.link_title))])]),n("div",{staticClass:"display-holder"},[n("div",{staticClass:"display-title"},[e._v("Link:")]),n("div",{staticClass:"display-content"},[n("el-link",{staticClass:"display-link",attrs:{href:e.link_form.link_input,target:"_blank"}},[e._v(e._s(e.link_form.link_input))])],1)])])],1)},R=[],z=n("c23d"),M=n.n(z),I=(n("2ce1"),n("e89a"),z["firebase"].initializeApp({apiKey:"AIzaSyDQuFnK8Mc1_u7gVagPaHgKc1LuVvdJUfE",authDomain:"memorizer-b515e.firebaseapp.com",databaseURL:"https://memorizer-b515e.firebaseio.com",projectId:"memorizer-b515e",storageBucket:"memorizer-b515e.appspot.com",messagingSenderId:"357707853636",appId:"1:357707853636:web:7818a5d21b6a7facbf3111"})),E=new z["firebase"].auth.GoogleAuthProvider,P=I,N=I.firestore(),A=P.auth(),Y={data:function(){return{link_form:{link_input:"",link_title:""},link_rules:{link_title:[{required:!0,message:"Title cannot be empty",trigger:"blur"}],link_input:[{required:!0,message:"Link cannot be empty",trigger:"blur"},{type:"url",message:"Invalid link",trigger:"blur"}]}}},methods:{submit:function(){var e=this,t=A.currentUser;t?this.$refs.link_form.validate((function(n){if(n){var a=e.link_form.link_title,r=e.link_form.link_input,s=new Date;N.collection("users").doc(t.uid).collection("m").add({type:"link",q:"",a:"",title:a,link:r,created_on:s.toISOString(),revised:8}).then((function(){e.$message.success("Your memory has been successfully recorded!"),e.$refs.link_form.resetFields()})).catch((function(t){var n=t.code,a=t.message;e.$message.error(n+": "+a)}))}})):this.$message.warning("You are not logged in!")}}},H=Y,T=(n("da78"),Object(b["a"])(H,S,R,!1,null,"aae6dbca",null)),D=T.exports,V=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-form",{ref:"qa_form",staticStyle:{width:"100%"},attrs:{model:e.qa_form,rules:e.qa_rules,"label-width":"120px"}},[n("el-form-item",{attrs:{label:"Question",prop:"q"}},[n("el-input",{staticClass:"input-element",attrs:{placeholder:"Input your question...",maxlength:100,"show-word-limit":"",clearable:""},model:{value:e.qa_form.q,callback:function(t){e.$set(e.qa_form,"q",t)},expression:"qa_form.q"}})],1),n("el-form-item",{attrs:{label:"Answer",prop:"a"}},[n("el-input",{staticClass:"input-element",attrs:{type:"textarea",rows:5,placeholder:"Input your answer...",clearable:""},model:{value:e.qa_form.a,callback:function(t){e.$set(e.qa_form,"a",t)},expression:"qa_form.a"}})],1),n("el-form-item",[n("div",{staticStyle:{"text-align":"left"}},[n("el-button",{attrs:{type:"info",plain:""},on:{click:e.submit}},[e._v("Submit")])],1)])],1),n("div",[n("div",{staticClass:"display-holder"},[n("div",{staticClass:"display-title"},[e._v("Question:")]),n("div",{staticClass:"display-content"},[e._v(e._s(e.qa_form.q))])]),n("div",{staticClass:"display-holder"},[n("div",{staticClass:"display-title"},[e._v("Answer:")]),n("div",{staticClass:"display-content"},[n("span",[e._v(e._s(e.qa_form.a))])])])])],1)},L=[],U={data:function(){return{qa_form:{q:"",a:""},qa_rules:{q:[{required:!0,message:"Question cannot be empty",trigger:"blur"}],a:[{required:!0,message:"Answer cannot be empty",trigger:"blur"}]}}},methods:{submit:function(){var e=this,t=A.currentUser;t?this.$refs.qa_form.validate((function(n){if(n){var a=e.qa_form.q,r=e.qa_form.a;N.collection("users").doc(t.uid).collection("m").add({type:"q_a",q:a,a:r,title:"",link:"",created_on:(new Date).toISOString(),revised:8}).then((function(){e.$message.success("Your memory has been successfully recorded!"),e.$refs.qa_form.resetFields()})).catch((function(t){var n=t.code,a=t.message;e.$message.error(n+": "+a)}))}})):this.$message.warning("You are not logged in!")}}},F=U,G=(n("06df"),Object(b["a"])(F,V,L,!1,null,"a36eef9c",null)),Q=G.exports,W=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login-page",on:{keypress:e.onEnter}},[n("el-form",{ref:"login_form",attrs:{model:e.login_form,"status-icon":"",rules:e.rules,"label-width":"130px"}},[n("el-form-item",{attrs:{label:"Email",prop:"email"}},[n("el-input",{attrs:{"prefix-icon":"el-icon-message",placeholder:"Input email address.. (Google account or other emails)",clearable:""},model:{value:e.login_form.email,callback:function(t){e.$set(e.login_form,"email",t)},expression:"login_form.email"}})],1),n("el-form-item",{attrs:{label:"Password",prop:"pwd"}},[n("el-input",{attrs:{type:"password",autocomplete:"off",placeholder:"Input your password...","show-password":"",clearable:""},model:{value:e.login_form.pwd,callback:function(t){e.$set(e.login_form,"pwd",t)},expression:"login_form.pwd"}})],1),n("div",{staticClass:"dont-have-account"},[n("el-link",{attrs:{href:"/signup",type:"primary"}},[e._v("Don't have an account? Create one!")])],1),n("div",{staticClass:"dont-have-account"},[n("el-link",{attrs:{type:"warning"},on:{click:e.signInWithGoogle}},[e._v("Sign in with Google account!")])],1),n("div",{staticClass:"btn-holder"},[n("el-button",{attrs:{type:"info"},on:{click:e.submit}},[e._v("Login")])],1)],1)],1)},B=[],J={data:function(){return{login_form:{email:"",pwd:""},rules:{email:[{required:!0,message:"Please input your email address...",trigger:"blur"},{type:"email",message:"Invalid email format!",trigger:"change"}],pwd:[{required:!0,message:"Please input your password...",trigger:"blur"}]}}},methods:{onEnter:function(e){13===e.charCode&&this.submit()},submit:function(){var e=this;this.$refs.login_form.validate((function(t){if(!t)return console.log("error submit!!"),!1;P.auth().signInWithEmailAndPassword(e.login_form.email,e.login_form.pwd).catch((function(t){var n=t.code,a=t.message;e.$notify.error(n+": "+a)}))}))},signInWithGoogle:function(){var e=this;M.a.auth().signInWithPopup(E).then((function(t){var n=t.credential.accessToken,a=t.user;e.$message.info("User[".concat(a.email,"] signed in with token: ").concat(n)),console.log(a)})).catch((function(t){var n=t.code,a=t.message,r=t.email;e.$notify.error("Email [".concat(r,"] failed to login with error[").concat(n,"]: ").concat(a))}))}}},K=J,Z=(n("c10b"),Object(b["a"])(K,W,B,!1,null,"b7a3e190",null)),X=Z.exports,ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"memory"},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.empty,expression:"empty"}],staticClass:"empty-warning"},[e._v(" You have no recorded memory. "),n("el-link",{attrs:{type:"warning"},on:{click:e.goHome}},[e._v("Go and add some first!")])],1),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.empty,expression:"!empty"}],staticClass:"memory-table"},[n("div",{staticClass:"action-panel"},[n("el-select",{staticStyle:{"margin-right":"15px"},attrs:{placeholder:"Type",size:"mini"},model:{value:e.typeFilter,callback:function(t){e.typeFilter=t},expression:"typeFilter"}},e._l(e.types,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),n("el-switch",{staticStyle:{display:"block"},attrs:{"active-color":"#13ce66","active-text":"Fading Memories"},model:{value:e.showOnlyNeedRevision,callback:function(t){e.showOnlyNeedRevision=t},expression:"showOnlyNeedRevision"}})],1),n("el-table",{ref:"memoryTable",staticStyle:{width:"100%","font-size":"12px"},attrs:{data:e.displayMemoryData,height:"55vh","max-height":"55vh",size:"mini"}},[n("el-table-column",{attrs:{label:"S/N",width:"80",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-tooltip",{attrs:{effect:"dark",placement:"right",content:t.row.id}},[n("span",[e._v(e._s(t.row.index))])])]}}])}),n("el-table-column",{attrs:{prop:"created_on",label:"Created on",width:"220",sortable:""}}),n("el-table-column",{attrs:{prop:"type",label:"Type",width:"100",sortable:""}}),n("el-table-column",{attrs:{label:"Question / Title","max-width":"500px","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return["q_a"===t.row.type?n("textarea",{staticClass:"long-answer",attrs:{disabled:""},domProps:{value:t.row.q}}):e._e(),e._v(" "),"link"===t.row.type?n("textarea",{staticClass:"long-answer",attrs:{disabled:""},domProps:{value:t.row.title}}):e._e()]}}])}),n("el-table-column",{attrs:{label:"Answer / Link","max-width":"500px","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return["q_a"===t.row.type?n("textarea",{staticClass:"brief-answer",attrs:{disabled:""},domProps:{value:t.row.a}}):e._e(),e._v(" "),"link"===t.row.type?n("div",[n("a",{attrs:{href:t.row.link,type:"info",target:"_blank"}},[e._v("Click to open link")])]):e._e()]}}])}),n("el-table-column",{attrs:{label:"Next Revision",width:"220",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.need_revise?n("span",[n("strong",[e._v(e._s(t.row.next_date))])]):n("span",[e._v(e._s(t.row.next_date))])]}}])}),n("el-table-column",{attrs:{prop:"revised",label:"R",width:"80",sortable:""}}),n("el-table-column",{attrs:{label:"Revise","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-tooltip",{attrs:{effect:"dark",content:"Time to revise",placement:"left"}},[t.row.need_revise?n("el-button",{attrs:{icon:"el-icon-warning",type:"warning",size:"mini",plain:""},on:{click:function(n){return e.revise(t.row.id)}}}):e._e()],1),n("el-tooltip",{attrs:{effect:"dark",content:t.row.revised>0?"Wait for next round of revision":"All done!",placement:"left"}},[t.row.need_revise?e._e():n("el-button",{attrs:{icon:"el-icon-success",type:"success",plain:"",size:"mini"},on:{click:function(n){return e.revise(t.row.id)}}})],1)]}}])}),n("el-table-column",{attrs:{label:"Delete"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-tooltip",{attrs:{effect:"dark",content:"Delete entry",placement:"left"}},[n("el-button",{attrs:{icon:"el-icon-remove",type:"danger",size:"mini"},on:{click:function(n){return e.remove(t.row.id)}}})],1)]}}])})],1)],1)])},te=[],ne=(n("4de4"),n("96cf"),n("1da1")),ae=(n("c740"),n("d81d"),n("9911"),n("c1df")),re=n.n(ae);function se(e){return re()(e).format("dddd, MMM Do YYYY, HH:mm:ss")}function ie(e,t,n){return re()(e).add(n,t).toDate()}function oe(e,t){switch(t){case 8:return ie(e,"m",30);case 7:return ie(e,"h",12);case 6:return ie(e,"d",1);case 5:return ie(e,"d",2);case 4:return ie(e,"d",4);case 3:return ie(e,"d",7);case 2:return ie(e,"d",15);case 1:return ie(e,"M",1)}}n("af87");function ce(e,t){return le.apply(this,arguments)}function le(){return le=Object(ne["a"])(regeneratorRuntime.mark((function e(t,n){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.collection("users").doc(n).collection("m").doc(t).get();case 3:return a=e.sent,r=a.data(),e.abrupt("return",{success:!0,code:"",data:r});case 8:return e.prev=8,e.t0=e["catch"](0),e.abrupt("return",{success:!1,code:e.t0.code,data:e.t0.message});case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),le.apply(this,arguments)}function ue(e,t){return de.apply(this,arguments)}function de(){return de=Object(ne["a"])(regeneratorRuntime.mark((function e(t,n){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=A.currentUser,a){e.next=5;break}return e.abrupt("return",{success:!1,code:"Not logged in",message:"You are not logged in!"});case 5:return n<8&&(n+=1),e.prev=6,e.next=9,N.collection("users").doc(a.uid).collection("m").doc(t).update({revised:n,created_on:(new Date).toISOString()});case 9:return e.abrupt("return",{success:!0,code:"",message:""});case 12:return e.prev=12,e.t0=e["catch"](6),e.abrupt("return",{success:!1,code:e.t0.code,message:e.t0.message});case 15:case"end":return e.stop()}}),e,null,[[6,12]])}))),de.apply(this,arguments)}function me(e,t){return fe.apply(this,arguments)}function fe(){return fe=Object(ne["a"])(regeneratorRuntime.mark((function e(t,n){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=A.currentUser,a){e.next=5;break}return e.abrupt("return",{success:!1,code:"Not logged in",message:"You are not logged in!"});case 5:return n>0&&(n-=1),e.prev=6,e.next=9,N.collection("users").doc(a.uid).collection("m").doc(t).update({revised:n});case 9:return e.abrupt("return",{success:!0,code:"",message:""});case 12:return e.prev=12,e.t0=e["catch"](6),e.abrupt("return",{success:!1,code:e.t0.code,message:e.t0.message});case 15:case"end":return e.stop()}}),e,null,[[6,12]])}))),fe.apply(this,arguments)}function pe(e){return be.apply(this,arguments)}function be(){return be=Object(ne["a"])(regeneratorRuntime.mark((function e(t){var n,a,r,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=N.collection("users").doc(t),e.next=3,n.get();case 3:if(a=e.sent,!a.exists){e.next=24;break}return e.prev=5,e.next=8,n.collection("m").get();case 8:if(a=e.sent,0!=a.docs.length){e.next=13;break}return e.abrupt("return",{success:!1,code:"empty",data:null});case 13:return r=a.docs.map((function(e,t){var n=e.id,a=e.data().created_on,r=e.data().revised,s=oe(a,r),i=!1;return r>0&&re()(s.toISOString()).isBefore(re()(new Date))&&(i=!0),{id:n,index:t,created_on:se(a),type:e.data().type,revised:e.data().revised,q:e.data().q,a:e.data().a,link:e.data().link,title:e.data().title,next_date:se(s),need_revise:i}})),e.abrupt("return",{success:!0,code:"",data:r});case 15:e.next=22;break;case 17:return e.prev=17,e.t0=e["catch"](5),s=e.t0.code,i=e.t0.message,e.abrupt("return",{success:!1,code:s,data:i});case 22:e.next=34;break;case 24:return e.prev=24,n.set({email:user.email,verified:user.emailVerified,username:user.displayName}),e.abrupt("return",{success:!1,code:"empty",data:null});case 29:return e.prev=29,e.t1=e["catch"](24),s=e.t1.code,i=e.t1.message,e.abrupt("return",{success:!1,code:s,data:i});case 34:case"end":return e.stop()}}),e,null,[[5,17],[24,29]])}))),be.apply(this,arguments)}function ge(e,t){return ve.apply(this,arguments)}function ve(){return ve=Object(ne["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.collection("users").doc(n).collection("m").doc(t).delete();case 3:return e.abrupt("return",{success:!0,code:"",data:null});case 6:return e.prev=6,e.t0=e["catch"](0),e.abrupt("return",{success:!1,code:e.t0.code,data:e.t0.message});case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),ve.apply(this,arguments)}function he(e){return ye.apply(this,arguments)}function ye(){return ye=Object(ne["a"])(regeneratorRuntime.mark((function e(t){var n,a,r,s,i,o,c,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n="dddd, MMM Do YYYY, HH:mm:ss",e.next=3,pe(A.currentUser.uid);case 3:if(a=e.sent,!a.success){e.next=19;break}if(r=a.data,s=we(r,"ascending"),i=s.filter((function(e){var t=re()(e.next_date,n),a=e.revised,r=re()((new Date).toISOString);return t.isBefore(r)&&a>0})),o=i.findIndex((function(e){return e.id==t})),!(o>=0)){e.next=16;break}return c=o+1,l="",l=c==i.length?i[0].revised>0?i[0].id:"end":i[o+1].id,e.abrupt("return",{success:!0,code:"",data:l});case 16:return e.abrupt("return",{success:!0,code:"",data:"end"});case 17:e.next=20;break;case 19:return e.abrupt("return",a);case 20:case"end":return e.stop()}}),e)}))),ye.apply(this,arguments)}function we(e,t){var n="dddd, MMM Do YYYY, HH:mm:ss";return e.sort((function(e,a){var r=re()(e.next_date,n),s=re()(a.next_date,n);return"ascending"==t?r.isAfter(s)?1:-1:"desceding"==t?r.isBefore(s)?1:-1:void 0})),e}var _e={data:function(){return{empty:!1,memoryData:[],loading:!1,showOnlyNeedRevision:!1,typeFilter:"all",types:[{value:"q_a",label:"Q&A"},{value:"link",label:"Link"},{value:"all",label:"All"}]}},methods:{goHome:function(){He.push({name:"Home"})},revise:function(e){var t=this;return Object(ne["a"])(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,he(e);case 2:a=n.sent,r="",a.success?(r=a.data,He.push("/revision/".concat(e,"?next=").concat(r))):t.$message.error("".concat(a.code,": ").concat(a.data));case 5:case"end":return n.stop()}}),n)})))()},remove:function(e){var t=this;return Object(ne["a"])(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=A.currentUser.uid,n.next=3,ge(e,a);case 3:r=n.sent,r.success?(t.$message.success("Memory has been deleted successfully!"),t.refreshMemory()):t.$message.error("".concat(r.code,": ").concat(r.data));case 5:case"end":return n.stop()}}),n)})))()},refreshMemory:function(){var e=this;return Object(ne["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.loading=!0,n=A.currentUser,n){t.next=8;break}e.loading=!1,e.$notify.warning("You are not logged in!"),He.push({name:"Home"}),t.next=13;break;case 8:return t.next=10,pe(n.uid);case 10:a=t.sent,e.loading=!1,a.success?(e.memoryData=a.data,e.empty=!1):"empty"==a.code?(e.empty=!0,e.memoryData=[]):e.$message.error("".concat(a.code,": ").concat(a.data));case 13:e.$refs.memoryTable.sort("created_on","ascending");case 14:case"end":return t.stop()}}),t)})))()}},mounted:function(){var e=this;setTimeout((function(){e.refreshMemory()}),1500)},computed:{displayMemoryData:function(){var e=this,t=this.memoryData;return this.showOnlyNeedRevision&&(t=t.filter((function(e){return e.need_revise}))),t=t.filter((function(t){return"all"==e.typeFilter||t.type===e.typeFilter})),t}}},ke=_e,je=(n("212d"),Object(b["a"])(ke,ee,te,!1,null,"611ebc40",null)),xe=je.exports,Ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"revision"},[n("div",{staticClass:"card-holder"},["q_a"===e.data.type?n("el-card",[n("div",{staticClass:"question-section",on:{click:function(t){e.answerVisible=!e.answerVisible}}},[n("div",[n("el-tooltip",{attrs:{content:e.answerVisible?"Click to hide the answer":"Click to show the answer"}},[n("div",{staticStyle:{"margin-right":"10px"}},[e._v(e._s(e.data.q))])])],1),n("div",[n("el-tooltip",{attrs:{content:"Number of revisions left"}},[n("div",{staticStyle:{color:"#E6A23C"}},[e._v(e._s(e.data.revised))])])],1)])]):e._e(),n("el-card",{directives:[{name:"show",rawName:"v-show",value:e.answerVisible,expression:"answerVisible"}]},[n("div",{staticClass:"answer-section"},[e._v(e._s(e.data.a))]),n("div",{staticClass:"action-section"},[n("el-button",{attrs:{type:"warning",plain:""},on:{click:e.reviseAgain}},[e._v("Revise Again")]),n("el-button",{attrs:{type:"success",plain:""},on:{click:e.remember}},[e._v("I Remember!")])],1)]),"link"===e.data.type?n("el-card",[n("div",{staticClass:"title-section",attrs:{slot:"header"},slot:"header"},[n("span",[e._v(e._s(e.data.title))]),n("el-tooltip",{attrs:{content:"Number of revisions left"}},[n("span",{staticStyle:{color:"#E6A23C"}},[e._v(e._s(e.data.revised))])])],1),n("div",[n("div",[n("el-link",{attrs:{href:e.data.link,target:"__blank"}},[e._v(e._s(e.data.link))])],1),n("iframe",{staticStyle:{"margin-top":"10px"},attrs:{title:"Link Source",width:"100%",height:"",src:e.embeddedLink,allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}}),n("div",{staticClass:"action-section"},[n("el-button",{attrs:{type:"warning",plain:""},on:{click:e.reviseAgain}},[e._v("Revise Again")]),n("el-button",{attrs:{type:"success",plain:""},on:{click:e.remember}},[e._v("I Remember!")])],1)])]):e._e()],1)])},$e=[],Oe=(n("d3b7"),n("ac1f"),n("3ca3"),n("841c"),n("1276"),n("ddb0"),n("2b3d"),{data:function(){return{data:{},answerVisible:!1,loading:!1}},computed:{embeddedLink:function(){if(!this.data.link)return this.data.link;try{var e=new URL(this.data.link),t="";return"www.youtube.com"===e.host?(t=new URLSearchParams(e.search).get("v"),"https://www.youtube.com/embed/"+t):"youtu.be"===e.host?(t=e.pathname.split("/")[1],"https://www.youtube.com/embed/"+t):e}catch(n){}}},methods:{goToNextMemory:function(){var e=this;return Object(ne["a"])(regeneratorRuntime.mark((function t(){var n,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.$route.query.next,"end"!=n){t.next=5;break}He.push("/done"),t.next=9;break;case 5:return t.next=7,he(n);case 7:a=t.sent,a.success?(r=a.data,He.push("/revision/".concat(n,"?next=").concat(r))):e.$message.error("".concat(a.code,": ").concat(a.data));case 9:case"end":return t.stop()}}),t)})))()},reviseAgain:function(){var e=this;return Object(ne["a"])(regeneratorRuntime.mark((function t(){var n,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ue(e.$route.params.id,e.data.revised);case 2:n=t.sent,n.success?(e.$message.warning("Memory has slightly faded~"),e.goToNextMemory()):"Not logged in"==n.code?(e.$notify.warning(n.message),He.push("/")):(a=n.code,r=n.message,e.$message.error(a+": "+r));case 4:case"end":return t.stop()}}),t)})))()},remember:function(){var e=this;return Object(ne["a"])(regeneratorRuntime.mark((function t(){var n,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,me(e.$route.params.id,e.data.revised);case 2:n=t.sent,n.success?(e.$message.success("Memory has been improved!"),e.goToNextMemory()):"Not logged in"==n.code?(e.$notify.warning(n.message),He.push("/")):(a=n.code,r=n.message,e.$message.error(a+": "+r));case 4:case"end":return t.stop()}}),t)})))()},getMemory:function(){var e=this;return Object(ne["a"])(regeneratorRuntime.mark((function t(){var n,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.loading=!0,n=A.currentUser,n){t.next=8;break}e.loading=!1,e.$notify.warning("You are not logged in!"),He.push("/"),t.next=14;break;case 8:return a=e.$route.params.id,t.next=11,ce(a,n.uid);case 11:r=t.sent,e.loading=!1,r.success?e.data=r.data:e.$message.error("".concat(r.code,": ").concat(r.data));case 14:case"end":return t.stop()}}),t)})))()}},mounted:function(){var e=this;setTimeout((function(){e.getMemory()}),1500)}}),qe=Oe,Se=(n("5fbd8"),Object(b["a"])(qe,Ce,$e,!1,null,"553fe9f2",null)),Re=Se.exports,ze=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"donezo"},[e._v(" Congratulations! You have finished all the pending revisions! ")])},Me=[],Ie={},Ee=Ie,Pe=(n("3912"),Object(b["a"])(Ee,ze,Me,!1,null,"ba0d7b80",null)),Ne=Pe.exports;a["default"].use(c["a"]);var Ae=[{path:"/",name:"Home",component:_,children:[{path:"link",name:"Link",component:D},{path:"qa",name:"QA",component:Q}]},{path:"/signup",name:"Signup",component:q},{path:"/login",name:"Login",component:X},{path:"/memory/:uid",name:"Memory",component:xe},{path:"/revision/:id",name:"Revision",component:Re},{path:"/done",name:"Donezo",component:Ne}],Ye=new c["a"]({base:"/memorizer/",routes:Ae}),He=Ye,Te={data:function(){return{username:"",signInVisible:!1,signOutVisible:!1,accessMemoryTooltip:""}},methods:{signInWithGoogle:function(){var e=this;this.signInVisible=!1,P.auth().signInWithPopup(E).then((function(e){var t=e.user,n=t.uid;He.push("/memory/"+n)})).catch((function(t){var n=t.code,a=t.message,r=t.email;e.$notify.error("Email [".concat(r,"] failed to login with error[").concat(n,"]: ").concat(a))}))},accessMemory:function(){var e=P.auth().currentUser;if(e){var t=e.uid;He.push("/memory/"+t)}else this.signInVisible=!0},signout:function(){var e=this;P.auth().signOut().then((function(){e.$message.success("Sign out successfully!"),He.push({name:"Home"})})).catch((function(t){console.error(t),e.$message.error("Failed to signout! Try again later!")}))},goHome:function(){He.push({name:"Home"})}},created:function(){var e=this;P.auth().onAuthStateChanged((function(t){t?(e.signOutVisible=!0,e.accessMemoryTooltip="Access your memory...",e.username=t.displayName):(e.username="",e.accessMemoryTooltip="Login to access your memory...",e.signOutVisible=!1)}))},computed:{goHomeVisible:function(){return"Memory"===this.$route.name}}},De=Te,Ve=(n("4d55"),Object(b["a"])(De,i,o,!1,null,"053a27a3",null)),Le=Ve.exports,Ue=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"footer"},[n("div",[e._v("Memorizer works the best with Chrome on PC")]),n("div",[n("el-link",{staticStyle:{color:"#fff"},attrs:{href:"https://xmliszt.github.io/",target:"__blank"}},[e._v("Li Yuxuan")]),n("span",[e._v(" Â© 2020")])],1),n("div",[n("el-link",{staticStyle:{color:"#fff"},attrs:{icon:"el-icon-question",href:"https://github.com/xmliszt/memorizer.git",target:"__blank"}},[n("span",[e._v("How to use Memorizer? ")]),n("font-awesome-icon",{attrs:{icon:["fab","github"]}})],1)],1)])},Fe=[],Ge={},Qe=Ge,We=(n("1797"),Object(b["a"])(Qe,Ue,Fe,!1,null,"60910b76",null)),Be=We.exports,Je={components:{Header:Le,Footer:Be}},Ke=Je,Ze=(n("034f"),Object(b["a"])(Ke,r,s,!1,null,null,null)),Xe=Ze.exports,et=n("5c96"),tt=n.n(et),nt=(n("0fae"),n("b2d6")),at=n.n(nt),rt=n("73c3"),st=n.n(rt),it=n("ecee"),ot=n("f2d1"),ct=n("ad3d");it["c"].add(ot["a"]),a["default"].component("font-awesome-icon",ct["a"]),a["default"].use(st.a),a["default"].use(tt.a,{locale:at.a}),a["default"].config.productionTip=!1,new a["default"]({router:He,render:function(e){return e(Xe)}}).$mount("#app")},"5df2":function(e,t,n){},"5e87":function(e,t,n){},"5fbd8":function(e,t,n){"use strict";var a=n("5df2"),r=n.n(a);r.a},"6c0f":function(e,t,n){},"718d":function(e,t,n){},"7cd7":function(e,t,n){},"7f6e":function(e,t,n){},"85ec":function(e,t,n){},a1b0:function(e,t,n){},c10b:function(e,t,n){"use strict";var a=n("240b"),r=n.n(a);r.a},c2fd:function(e,t,n){},da78:function(e,t,n){"use strict";var a=n("11ca"),r=n.n(a);r.a}});
//# sourceMappingURL=app.8f3155d1.js.map